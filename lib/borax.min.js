!function(a,b){if("function"==typeof define&&define.amd)define(["underscore","jquery","backbone"],function(a,c,d){return b(a,c,d)});else if("undefined"!=typeof exports){var c=require("underscore"),d=require("jquery"),e=require("backbone");exports=module.exports=b(c,d,e)}else b(c,d,e)}(this,function(a,b,c){"use strict";var d,e={},f=function(){};return a.extend(f.prototype,c.Events,{on:function(a,b,d){e[a]||(e[a]={}),c.Events.on.apply(this,arguments),e[a]===!0&&c.Events.trigger.apply(this,[a])},trigger:function(a){e[a]||(e[a]=!0),c.Events.trigger.apply(this,arguments)},once:function(a,b,d){e[a]||(e[a]={}),c.Events.once.apply(this,arguments),e[a]===!0&&c.Events.trigger.apply(this,[a])}}),c.Dispatcher=d?d:d=new f,c.Dispatcher});