!function(t){function e(n){if(r[n])return r[n].exports;var i=r[n]={exports:{},id:n,loaded:!1};return t[n].call(i.exports,i,i.exports,e),i.loaded=!0,i.exports}var r={};return e.m=t,e.c=r,e.p="",e(0)}([function(t,exports,e){(function(r){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}var i=e(1),s=n(i);"undefined"!=typeof window&&(r=window),r.Borax=t.exports={Datastore:s["default"]}}).call(exports,function(){return this}())},function(t,exports,e){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var i=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},s=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),u=e(2),o=r(u),a=100,c=void 0,f=function(){function t(){n(this,t),this.history=[o["default"].Map()],this.reducers={},this.cbs=[]}return s(t,[{key:"registerReducer",value:function(t,e){return this.reducers[t]=e,this}},{key:"getState",value:function(){var t=arguments.length<=0||void 0===arguments[0]?0:arguments[0];return this.history[this.history.length-1-t]}},{key:"dispatch",value:function(t){var e=this,r=this.getState();return this.history.push(r.withMutations(function(n){for(var s in e.reducers){var u=r.get(s)?r.get(s).toJS():{};n.set(s,o["default"].Map(i(u,e.reducers[s](r.get(s),t))))}})),this.history.length>a&&this.history.shift(),this.trigger()}},{key:"onNewstate",value:function(t){var e=this.cbs.length;return this.cbs.push(t),e}},{key:"offNewState",value:function(t){return this.cbs.length-1<t&&this.cbs.splice(t,1),this.cbs.length}},{key:"trigger",value:function(){var t=this.getState(),e=function(e){return e(t)};return this.cbs.every(e),this}}]),t}();t.exports=c=c?c:new f},function(t,exports){t.exports=Immutable}]);