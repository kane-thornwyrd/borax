!function(t){function e(n){if(r[n])return r[n].exports;var i=r[n]={exports:{},id:n,loaded:!1};return t[n].call(i.exports,i,i.exports,e),i.loaded=!0,i.exports}var r={};return e.m=t,e.c=r,e.p="",e(0)}([function(t,exports,e){(function(r){"use strict";var n=e(1);"undefined"!=typeof window&&(r=window),r.Borax=t.exports={Datastore:n}}).call(exports,function(){return this}())},function(t,exports,e){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var n=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},i=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),s=e(2),o=100,u=void 0,a=function(){function t(){r(this,t),this.history=[s.Map()],this.reducers={},this.cbs=[]}return i(t,[{key:"registerReducer",value:function(t,e){return this.reducers[t]=e,this}},{key:"getState",value:function(){var t=arguments.length<=0||void 0===arguments[0]?0:arguments[0];return this.history[this.history.length-1-t]}},{key:"dispatch",value:function(t){var e=this,r=this.getState();return this.history.push(r.withMutations(function(i){for(var o in e.reducers){var u=r.get(o)?r.get(o).toJS():{};i.set(o,s.Map(n(u,e.reducers[o](r.get(o),t))))}})),this.history.length>o&&this.history.shift(),this.trigger()}},{key:"onNewstate",value:function(t){var e=this.cbs.length;return this.cbs.push(t),e}},{key:"offNewState",value:function(t){return this.cbs.length-1<t&&this.cbs.splice(t,1),this.cbs.length}},{key:"trigger",value:function(){var t=this.getState(),e=function(e){return e(t)};return this.cbs.every(e),this}}]),t}();t.exports=u=u?u:new a},function(t,exports){t.exports=Immutable}]);